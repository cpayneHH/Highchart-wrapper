<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Highchart Wrapper Example</title>
    <!-- Bootstrap CSS -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
            rel="stylesheet"
    />
    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Highcharts core -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <!-- Highcharts Vue plugin (UMD) -->
    <script src="https://unpkg.com/highcharts-vue@2.0.1/dist/highcharts-vue.min.js"></script>
    <!-- Your library UMD build -->
    <link href="../dist/Highchart-wrapper.css" rel="stylesheet"/>
    <script src="../dist/HighchartWrapper.umd.js"></script>
</head>
<body>
<div id="app"></div>

<script>
  const {createApp, h} = Vue;
  // Register HighchartsVue plugin so <highcharts> component is available
  createApp({
    components: {HighchartsVue, HighchartWrapper},
    data() {
      return {
        // Sample blocks
        items: [
          {
            id: 1,
            type: 'chart',
            options: {
              accessibility: {
                enabled: true
              },
              chart: {type: 'column'},
              title: {text: 'Symptom Severity Change'},
              xAxis: {title: {text: 'Percent'}},
              yAxis: {title: {text: 'Percent'}},
              plotOptions: {
                column: {
                  stacking: 'percent',
                  dataLabels: {
                    enabled: true,
                    format: '{point.percentage:.1f}%',
                    filter: {operator: '\u003E', property: 'percentage', value: 10},
                  },
                },
              },
              tooltip: {
                enabled: true
              },
              colors: ['#006C95', '#241E45', '#3F357A', '#B31166', '#F7F6F7'],
              series: [
                {
                  name: 'Moderately severe depression symptoms',
                  data: [434, 290, 37],
                },
                {name: 'Significant weight loss', data: [272, 153, 156]},
                {
                  name: 'Psychomotor retardation',
                  data: [13, 7, 22],
                },
                {name: 'Fatigue or loss of energy', data: [55, 35, 41]},
              ],
              legend: {
                align: 'bottom',
                backgroundColor: Highcharts.defaultOptions.legend.backgroundColor || 'white',
                borderColor: '#CCC',
                borderWidth: 1,
                shadow: false,
                y: 12
              },
              responsive: {
                rules: [
                  {
                    condition: {maxWidth: 576},
                    chartOptions: {plotOptions: {column: {dataLabels: {enabled: false}}}},
                  },
                ],
              },
            },
          },
          {
            id: 2,
            type: 'callout',
            options: {
              title: 'Addiction Medicine Program',
              description:
                  'Combines 24\/7 medical care with a highly structured program using proven therapies for behavioural change over six weeks',
            },
          },
          {id: 3, type: 'title', options: {title: '-35%', description: 'Average Score Improvement'}},
          {
            type: 'title',
            options: {title: '8', description: '# of Patient that Complete Assessment'},
          },
          {
            id: 4,
            type: 'chart',
            options: {
              accessibility: {
                enabled: true
              },
              title: {text: 'Assessment Scores by Assessment Number'},
              xAxis: {title: {text: 'Percent'}, categories: ['Jan', 'Feb', 'Mar']},
              yAxis: [
                {title: {text: 'Percent'}},
                {title: {text: 'Assessments Completed'}, opposite: true},
              ],
              series: [
                {
                  type: 'column',
                  name: 'Moderately severe depression symptoms',
                  data: [45.7, 37, 28.9],
                },
                {fillColor: 'url(#custom-pattern)', name: 'Clinical Symptoms', data: [12, 22, 55]},
              ],
            },
          },
        ],
      }
    },
    template: `
      <div class="container my-5">
        <!-- Use the UMD-exported component -->
        <highchart-wrapper
            title="Example Dashboard"
            :items="items"
            :layout="[
            [2, 1],
            [1, 1, 1],
            [1, 2],
            [2, 1],
            [3]
        ]"
        />
      </div>`
  })
  .mount('#app');
</script>
</body>
</html>
